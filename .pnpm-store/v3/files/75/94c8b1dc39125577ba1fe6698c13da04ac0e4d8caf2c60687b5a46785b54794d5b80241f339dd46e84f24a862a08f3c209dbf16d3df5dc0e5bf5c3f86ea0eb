/*!
 * Crafted with ❤ by Salla
 */
import{r as s,h as e}from"./p-CUu-nBEz.js";import{a as i}from"./p-BedNk7k1.js";import{H as t}from"./p-X-ZUrwUQ.js";import"./p-CgtvEd63.js";const a=class{constructor(e){s(this,e),this.limit=5,this.type="store",this.sort="latest",this.hideCustomerInfo=!1,this.reviews=[],this.showReviews=!1,this.testimonialText=salla.lang.get("blocks.home.testimonials"),this.displayAllLinkText=salla.lang.get("blocks.home.display_all"),this.displayAllURL=null,this.source=this.source,salla.onReady((()=>{this.displayAllURL=salla.url.get("testimonials"),this.isRTL=salla.config.get("theme.is_rtl",!0)})),salla.lang.onLoaded((()=>{this.testimonialText=salla.lang.get("blocks.home.testimonials"),this.displayAllLinkText=salla.lang.get("blocks.home.display_all")}))}fetchReviews(){if("json"===this.source)return Promise.resolve(JSON.parse(this.sourceValue));const s=["products","categories"].includes(this.source),e={limit:this.limit,source:this.source,items:s?JSON.parse(this.sourceValue):this.sourceValue,sort:this.sort,type:this.type,hide_customer_info:this.hideCustomerInfo?1:0};return salla.api.request("reviews",{params:e},"get")}componentWillLoad(){return new Promise((s=>salla.onReady(s))).then((()=>this.fetchReviews())).then((s=>s.data||[])).then((s=>{s.length&&(this.reviews=s,this.showReviews=!0,t.generateReviewSchema(this.reviews))}))}render(){return e("div",{key:"636e5db1fe5a6441a3a779c26e383fec4cba4908",class:"s-reviews-container"},e("div",{key:"5b2a8c72c8544cf152f811c67c23ed8e07a9af58",class:"s-reviews-header-wrapper"},e("h1",{key:"786e8cfb33ae5b602de1f889d40307abe3dce582",class:"s-reviews-header"},this.testimonialText),this.displayAllLink?e("a",{href:this.displayAllURL,class:"s-reviews-display-all"},this.displayAllLinkText,e("span",{class:"s-reviews-display-all-icon",innerHTML:i})):null),e("salla-slider",{key:"f950c968c0b076b365b450a13ffabad4e3e9a4da",centered:!0,"slides-per-view":1,type:"testimonials",class:"s-reviews-testimonials-slider","controls-outer":!0,"auto-play":!0,id:`testimonials-${this.source}-slider`},e("div",{key:"ca057f133699b406673b2e3dc476c14dc0dd9f79",slot:"items"},this.reviews.map(((s,i)=>e("div",{key:i,class:"s-reviews-swiper-slide"},e("div",{class:"s-reviews-testimonial"},e("div",{class:"s-reviews-testimonial__inner"},e("div",{class:"s-reviews-testimonial__avatar"},e("img",{src:"images/s-empty.png","data-src":s.avatar,alt:s.name?s.name:"testimonial-"+i,class:"lazy"})),e("div",{class:"s-reviews-testimonial__text"},e("p",{innerHTML:s.content}),e("div",{class:"s-reviews-testimonial__name_wrapper"},e("div",{class:"s-reviews-testimonial__info"},s.name&&e("h2",null,`${s.name}`)),e("div",{class:"s-reviews-testimonial__rating"},e("salla-rating-stars",{size:"small",value:s.stars})))),e("span",{class:"s-reviews-testimonial__icon",innerHTML:'\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>quote-open</title>\n<path d="M8 12v-5.333c0-0.737-0.596-1.333-1.333-1.333-3.676 0-6.667 2.991-6.667 6.667v8c0 3.676 2.991 6.667 6.667 6.667h1.333c3.676 0 6.667-2.991 6.667-6.667v-1.333c0-3.676-2.991-6.667-6.667-6.667zM12 20c0 2.205-1.795 4-4 4h-1.333c-2.205 0-4-1.795-4-4v-8c0-1.739 1.115-3.221 2.667-3.772v5.105c0 0.737 0.596 1.333 1.333 1.333h1.333c2.205 0 4 1.795 4 4zM25.333 12v-5.333c0-0.737-0.596-1.333-1.333-1.333-3.676 0-6.667 2.991-6.667 6.667v8c0 3.676 2.991 6.667 6.667 6.667h1.333c3.676 0 6.667-2.991 6.667-6.667v-1.333c0-3.676-2.991-6.667-6.667-6.667zM29.333 20c0 2.205-1.795 4-4 4h-1.333c-2.205 0-4-1.795-4-4v-8c0-1.739 1.115-3.221 2.667-3.772v5.105c0 0.737 0.596 1.333 1.333 1.333h1.333c2.205 0 4 1.795 4 4z"></path>\n</svg>\n'})))))))))}};a.style="";export{a as salla_reviews}